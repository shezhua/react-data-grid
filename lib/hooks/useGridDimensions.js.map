{"version":3,"file":"useGridDimensions.js","sourceRoot":"","sources":["../../src/hooks/useGridDimensions.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,+BAA0D;AAe1D,SAAgB,iBAAiB;IAC/B,IAAM,OAAO,GAAG,cAAM,CAAiB,IAAI,CAAC,CAAC;IACvC,IAAA,KAAA,OAA4B,gBAAQ,CAAC,CAAC,CAAC,IAAA,EAAtC,SAAS,QAAA,EAAE,YAAY,QAAe,CAAC;IACxC,IAAA,KAAA,OAA8B,gBAAQ,CAAC,CAAC,CAAC,IAAA,EAAxC,UAAU,QAAA,EAAE,aAAa,QAAe,CAAC;IAEhD,uBAAe,CAAC;QACN,IAAA,cAAc,GAAK,MAA4D,eAAjE,CAAkE;QAExF,2EAA2E;QAC3E,IAAI,cAAc,IAAI,IAAI;YAAE,OAAO;QAEnC,IAAM,cAAc,GAAG,IAAI,cAAc,CAAC,UAAA,OAAO;YACzC,IAAA,KAAoB,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAxC,KAAK,WAAA,EAAE,MAAM,YAA2B,CAAC;YACjD,YAAY,CAAC,KAAK,CAAC,CAAC;YACpB,aAAa,CAAC,MAAM,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,OAAQ,CAAC,CAAC;QAEzC,OAAO;YACL,cAAc,CAAC,UAAU,EAAE,CAAC;QAC9B,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;AAC1C,CAAC;AAzBD,8CAyBC","sourcesContent":["import { useRef, useState, useLayoutEffect } from 'react';\n\n// https://github.com/microsoft/TypeScript/issues/37861\ninterface ResizeObserverEntry {\n  contentRect: {\n    width: number;\n    height: number;\n  };\n}\n\ntype ResizeObserver = new (callback: (entries: readonly ResizeObserverEntry[]) => void) => {\n  observe: (target: Element) => void;\n  disconnect: () => void;\n};\n\nexport function useGridDimensions(): [React.RefObject<HTMLDivElement>, number, number] {\n  const gridRef = useRef<HTMLDivElement>(null);\n  const [gridWidth, setGridWidth] = useState(1);\n  const [gridHeight, setGridHeight] = useState(1);\n\n  useLayoutEffect(() => {\n    const { ResizeObserver } = window as typeof window & { ResizeObserver: ResizeObserver };\n\n    // don't break in jest/jsdom and browsers that don't support ResizeObserver\n    if (ResizeObserver == null) return;\n\n    const resizeObserver = new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      setGridWidth(width);\n      setGridHeight(height);\n    });\n\n    resizeObserver.observe(gridRef.current!);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  return [gridRef, gridWidth, gridHeight];\n}\n"]}